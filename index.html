<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Script to play, manipulate and download YouTube videos" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <!-- generics -->
    <link rel="icon" href="images/favicon-32.png" sizes="32x32">
    <link rel="icon" href="images/favicon-96.png" sizes="96x96">
    <link rel="icon" href="images/favicon-128.png" sizes="128x128">
    <link rel="icon" href="images/favicon-192.png" sizes="192x192">

    <!-- iOS -->
    <link rel="apple-touch-icon" href="images/favicon-128.png" sizes="128x128">
    <link rel="apple-touch-icon" href="images/favicon-152.png" sizes="152x152">
    <link rel="apple-touch-icon" href="images/favicon-180.png" sizes="180x180">

    <!-- Windows 8 IE 10-->
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="msapplication-TileImage" content="images/favicon-144.png">

    <!— Windows 8.1 + IE11 and above —>
    <meta name="msapplication-config" content="images/browserconfig.xml" />

    <meta name="msapplication-TileColor" content="#fefefe"/>
    <meta name="msapplication-square70x70logo" content="favicon-128.png"/>
    <meta name="msapplication-square150x150logo" content="favicon-270.png"/>
    <meta name="msapplication-TileImage" content="favicon-270.png"/>
    <meta name="msapplication-config" content="none"/>

    <title>Yt6 -- Snarl's YouTube Video Player</title>
  <style>
	.note { font-size: 13px; padding: 0 0 0 20px }
	.apple { width: 10px; height: 10px; padding: 0 0 3px 0px; margin: 0 0 }
  </style>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/snarly/yt6">View on GitHub</a>

          <h1 id="project_title">Yt6</h1>
          <h2 id="project_tagline">Play back free of ads, tweak around with and download YouTube video & audio in almost any browser on both Desktop and Mobile</h2>

    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">

    <img style="position: absolute; left: 100%; height: 180px" src="images/screenshot01.jpg"></img>
    <img style="position: absolute; left: 100%; height: 180px; top: 231px" src="images/screenshot02.jpg"></img>
    <img style="position: absolute; left: 100%; height: 750px; top: 804px" src="images/screenshot03.jpg"></img>
    <img style="position: absolute; left: 100%; height: 180px; top: 422px" src="images/screenshot04.jpg"></img>
    <img style="position: absolute; left: 100%; height: 180px; top: 613px" src="images/screenshot05.jpg"></img>


	<h3>
	<a href="javascript:(function(){var v='5e83e6d0a933dd70e5cf1597e576fbae12316924/yt6.js',y='youtube.com/',w=window,d=w.document,h=d.location.href,yt6=w.yt6||{},yt6d=w.yt6d||{};if(yt6d.loaded>=4)return void 0;if(h.split(y+'watch')[1]||h.split(y+'shorts')[1]||h.split(y+'embed')[1]||h.split('/base.j')[1]=='s'){var id='snarls_player',e='script',q;yt6.loaded=0;function s(x){x=x||id;return d.getElementById(x)};function c(e){return d.createElement(e)};function a(q){s().appendChild(q);s().add_subs='en,hu,de';yt6d.src=q.src};function r(){if(s()){var x;try{x=s().querySelector('#'+id)}catch(e){x=s().firstChild};if(x)s().removeChild(x)}};function b(){var i,j,o,x;o=['js','rawcdn.githack','cdn.rawgit','js'];for(j,x,i=o.length;i;j=Math.floor(Math.random()*i),x=o[--i],o[i]=o[j],o[j]=x);if(yt6d.src==-1)o.splice(0,0,'raw.githubusercontent');q=c('div');q.id=id;if(q!=s())d.body.appendChild(q);var src='https://'+o[0]+'.com/snarly/yt6/'+v,src0='https://cdn.jsdelivr.net/gh/snarly/yt6@'+v;function oc(ox,oy,sr){return(oy!='js')?sr.replace(ox,oy):src0};q=c(e);q.id=id;q.src=(o[0]!='js')?src:src0;q.onerror=function(){q=c(e);q.id=id;q.src=oc(o[0],o[1],src);q.onerror=function(){q=c(e);q.id=id;q.src=oc(o[0],o[2],src);q.onerror=function(){q=c(e);q.id=id;q.src=oc(o[0],o[3],src);q.onerror=function(){q=c(e);q.id=id;q.src=src.replace('https','http')};a(q);r();};a(q);r();};a(q);r();};try{a(q);}catch(f){a(q)};};function g(){try{deldiv()}catch(f){r()};yt6d.src=1;b()};if(!s()){b()};setTimeout(function(){var t=w.yt6;if(t)t.loaded=t.loaded||window['status'];if(!t||(t&&(!t.body||(t.loaded<3))))g()},3000);}else{void 0};})()/*2023-06-14-23:41*/">Yt6 -- Snarl's YouTube Video Player (bookmarklet)</a>
	</h3>
	<h4>
		Last updated on 14 Jun 2023, 23:41
	</h4>

	<h1>
		Features
	</h1>
		On any YouTube video (watch) page, this bookmarklet will call an external player and load 
		some extra functions, some of which can be used with YouTube's original player as well. 
		Written in pure javascript with the aim to be as much platform-independent and 
		backwards-compatible as possible. There is no installation, it works on-demand. Only a 
		working internet connection is needed. The program is able to

	<br>
	<ol>
		<li class="feat">restrict on-site advertisement -- suppress endscreen cards, auto-skip or just auto-mute video ads (in case some may be interesting to you),</li>
		<li class="feat">resize, zoom, rotate and move around video picture arbitrarily,</li>
		<li class="feat">select the desired media sequence to loop -- custom loop segments become active once the starting and ending time input fields disappear,</li>
		<li class="feat">change playback rate ("speed" or tempo) from 0 up to 1600%,</li>
		<li class="feat">replace soundtrack with any external audio (or video) file across the net</li>
		<ol>Works only if you select a video-only format of the youtube video, and play it back with the progressive download method,</ol>
		<li class="feat">pick your favoured and supported video/audio codec and resolution for playback,</li>
		<li class="feat">grab media URLs directly from the "shorts" pages,</li>
		<li class="feat">download the video/audio content,</li>
		<li class="feat">occasionally extract video commercials as well, accessible through the alternative links,</li>
		<li class="feat">download subtitles/closed captions (CC)
		<ol>
		On bookmarklet line, you can edit the value 
		of "add_subs" after the equal sign and between apostrophes (a comma separated list 
		of ISO 639-1 languge codes, such as <code>'en, de, fr, es, ja'</code>...) to add Google-Translated tracks 
		of your choice,
		<iframe src="/yt6/language_codes.html" style="width: 400px"></iframe>
		</ol>
		</li>
		<li class="feat">facilitate background play while your mobile is in sleep mode,</li>
		<li class="feat">bypass age verification
		<ol>
		<!-- The video data leak which made this feature possible was patched in the latter half of March '22. The involvement of an eligible YT account is now a necessity to watch age-restricted videos on YouTube. -->
		Examples: <a href="https://www.youtube.com/watch?v=07FYdnEawAQ)">Tunnel Vision (signatures encrypted)</a>, <a href="https://www.youtube.com/watch?v=UqPsrqpwLmU">Cobra (signatures unencrypted)</a><br>
		</ol>
		</li>
		<li class="feat"><strike>change between YouTube layouts by setting the cookie on exit</strike>
		<ol>
		YouTube stopped honoring the setting in July 2020 and shut down its classic layout for good early December.
		I wrote a userscript that partially restores it though. See the <a href="#classic_layout">YouTube Classic layout</a> section for details.
		</ol>
		</li>
	</ol>
	<br>
		Keep in mind that this is not a browser extension. If anything it is an extension of the 
		YouTube video page. Any event resulting in a browser page reload such as<br>
	<ol>
		 - leaving the current YT subdomain, <br>
		 - typing URLs directly to the address bar instead of following links, <br>
		 - or even just navigating between two points in your browsing history where a full page 
		refresh has already taken place <br>
	</ol>
		will cause the program code to be removed from memory and you would need to reload it.

	<br><br>

		<b><strong><u>Please note</u>: </strong></b>
	<div style="color: red; display: inline-block">
		A bookmarklet cannot update itself. You either come back here once in a while to check if 
		there is a newer version, or the ever evolving YouTube site will eventually break it. 
	</div> 
		Version number is the date of the last update, included on the bookmarklet line at its very 
		end, looking like this: /*2023-06-14-23:41*/
	<br><br>

	<h5 style="display: none">
		!!! For the Google security issues experienced since the latter half of May 2022, please see the <a href="#attention">last paragraph</a> of important notes!!!
	</h5>

	<br>

	<h1>
		Setup
	</h1>

	<ol>
	<li>	Right click / hold your finger on the Yt6 link above, and "Copy link address".</li>
	<ol>	If you have no such option, the code is written in plain text below, select and copy it manually
	</ol>
	<li>	Bookmark any web page (this one for example)</li>
	<li>	Edit the created bookmark's Properties / Location: </li>
	<ol>delete its URL-address entirely, and paste this snippet of javascript code in its place. 
		(Optionally, you can give it a name of your choice too.)
	</ol>
	<li>	Save the changes, if there is a Save button!</li>
	</ol><br>
		That's it, your bookmarklet is now ready to use.
	<br><br><br>
		Also, in many desktop browsers you can simply drag and drop the link to the Bookmarks 
		Toolbar, or right click on it and select "Bookmark this link" -- however, some browsers may 
		automatically replace the dragged / right-clicked link's content with a 
		useless <code>about:blank#blocked</code> line. It is default precaution for <b><strong>any</strong></b> javascript code behind a link 
		as this programming language is easy to abuse. The copy-paste method is your best 
		choice.


	<br><br>
	<h4>
		CODE IN PLAIN TEXT
	</h4>
	<p>
	<code>javascript:(function(){var v='5e83e6d0a933dd70e5cf1597e576fbae12316924/yt6.js',y='youtube.com/',w=window,d=w.document,h=d.location.href,yt6=w.yt6||{},yt6d=w.yt6d||{};if(yt6d.loaded>=4)return void 0;if(h.split(y+'watch')[1]||h.split(y+'shorts')[1]||h.split(y+'embed')[1]||h.split('/base.j')[1]=='s'){var id='snarls_player',e='script',q;yt6.loaded=0;function s(x){x=x||id;return d.getElementById(x)};function c(e){return d.createElement(e)};function a(q){s().appendChild(q);s().add_subs='en,hu,de';yt6d.src=q.src};function r(){if(s()){var x;try{x=s().querySelector('#'+id)}catch(e){x=s().firstChild};if(x)s().removeChild(x)}};function b(){var i,j,o,x;o=['js','rawcdn.githack','cdn.rawgit','js'];for(j,x,i=o.length;i;j=Math.floor(Math.random()*i),x=o[--i],o[i]=o[j],o[j]=x);if(yt6d.src==-1)o.splice(0,0,'raw.githubusercontent');q=c('div');q.id=id;if(q!=s())d.body.appendChild(q);var src='https://'+o[0]+'.com/snarly/yt6/'+v,src0='https://cdn.jsdelivr.net/gh/snarly/yt6@'+v;function oc(ox,oy,sr){return(oy!='js')?sr.replace(ox,oy):src0};q=c(e);q.id=id;q.src=(o[0]!='js')?src:src0;q.onerror=function(){q=c(e);q.id=id;q.src=oc(o[0],o[1],src);q.onerror=function(){q=c(e);q.id=id;q.src=oc(o[0],o[2],src);q.onerror=function(){q=c(e);q.id=id;q.src=oc(o[0],o[3],src);q.onerror=function(){q=c(e);q.id=id;q.src=src.replace('https','http')};a(q);r();};a(q);r();};a(q);r();};try{a(q);}catch(f){a(q)};};function g(){try{deldiv()}catch(f){r()};yt6d.src=1;b()};if(!s()){b()};setTimeout(function(){var t=w.yt6;if(t)t.loaded=t.loaded||window['status'];if(!t||(t&&(!t.body||(t.loaded<3))))g()},3000);}else{void 0};})()/*2023-06-14-23:41*/
	</code>
	</p>

	<br>
	<h1>
		How to use
	</h1>
		<b><strong>On Desktop, just click on it on your bookmarks list</strong></b> whenever you enter a YouTube 
		video you want to play around with, unless you have the code already running.
	<br><br>
		<b><strong>On Mobile </strong></b>
	<ol>
	<li><b><strong>Tap the browser's address bar first </strong></b> (NOT the YouTube search bar!) </li>
	<ol>	this will select / highlight the whole address of the current YouTube video page.
	</ol>
	<li>	The browser should suggest the bookmarklet as an available option (if these type of suggestions are allowed in the settings) </li>
	<ol>
		once you <b><strong>start typing</strong></b> either <b><strong>its name</strong></b> ("Yt6" or whatever you named it) or the prefix 
		"javascript:" to narrow the search down to bookmarklets only. 
	</ol>
	<li><b><strong>Tapping on the correct entry</strong></b> shall initiate the call.
	<br><br>
	<div class="note">(By the way, if we were simply copy-pasting the bookmarklet code to the address bar and 
		subsequently hit the "Enter / Navigate" button as an attempt to execute it, the effect would be the same 
		cause that's what is actually happening here.)</div>
	</li>
	</ol>
	<br>
		Loading time depends on your internet connection and the current traffic on the storage 
		servers, but it should be up and running within a few seconds. If it doesn't seem to work, it 
		may be because of installed script blocker extensions. See the <a href="#important_notes">Important Notes</a> section to 
		learn how to resolve this.
	<br><br>
		Automatic playback depends on the state of YouTube's own "Repeat / Loop Playlist" 
		(the circular arrows) button on user-created playlists. 
	<br><br>
		Use the HTML5 emblem on the control panel to switch between the native and this 
		alternative player.
	<br><br>
		It is possible to use the bookmarklet code as a <u><b><strong>userscript</strong></b></u> with the help of add-ons like
	<ol>
		<b><strong>Greasemonkey</strong></b> (for <a href="https://addons.mozilla.org/en-US/firefox/addon/greasemonkey/">Firefox</a>),<br>
		<b><strong>Tampermonkey</strong></b> (for <a href="https://addons.mozilla.org/en-US/firefox/addon/tampermonkey/">Firefox</a>, <a href="https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo">Chrome</a>, <a href="https://microsoftedge.microsoft.com/addons/detail/tampermonkey/iikmkjmpaadaobahmlepeloendndfphd">Edge</a> and <a href="https://addons.opera.com/hu/extensions/details/tampermonkey-beta/">Opera</a>) or <br>
		<b><strong>Violentmonkey</strong></b> (for <a href="https://addons.mozilla.org/en-US/firefox/addon/violentmonkey/">Firefox</a>, <a href=" https://chrome.google.com/webstore/detail/violentmonkey/jinjaccalgkegednnccohejagnlnfdag">Chrome</a> and <a href="https://microsoftedge.microsoft.com/addons/detail/violentmonkey/eeagobfjdenkkddmbclomhiblgggliao">Edge</a>)<br>
	</ol>
		However, I would not recommend this (except for Yandex) because all it does is save you 
		the time of one or two clicks or taps, while it may cause unnecessary network traffic in 
		case of an error.
	<br><br>

<pre>// ==UserScript==
// @name         Yt6 -- Snarl's YouTube Video Player (userscript)
// @namespace    yt6
// @version      2023-06-14-23:41
// @author       Snarl
// @description  Auto-Load Yt6 script as soon as possible
// @match        https://*.youtube.com/watch*
// @match        https://*.youtube.com/embed/*
// @match        http://*.youtube.com/watch*
// @match        http://*.youtube.com/embed/*
// @grant        none
// @run-at       document-end
// @icon         https://yt3.ggpht.com/-afBnHVG_R6E/AAAAAAAAAAI/AAAAAAAAAAA/LtE5kbPkZvE/s27-c-k-no-mo-rj-c0xffffff/photo.jpg
// ==/UserScript==

(function(){

  window['yt6'] = {}; window['yt6d'] = {}; window['yt6'].body = 1

  var idle_time = 2000 // wait some time before running the bookmarklet part

  var onComplete = function(){setTimeout( //javascript:(
    (function(){var v='5e83e6d0a933dd70e5cf1597e576fbae12316924/yt6.js',y='youtube.com/',w=window,d=w.document,h=d.location.href,yt6=w.yt6||{},yt6d=w.yt6d||{};if(yt6d.loaded>=4)return void 0;if(h.split(y+'watch')[1]||h.split(y+'shorts')[1]||h.split(y+'embed')[1]||h.split('/base.j')[1]=='s'){var id='snarls_player',e='script',q;yt6.loaded=0;function s(x){x=x||id;return d.getElementById(x)};function c(e){return d.createElement(e)};function a(q){s().appendChild(q);s().add_subs='en,hu,de';yt6d.src=q.src};function r(){if(s()){var x;try{x=s().querySelector('#'+id)}catch(e){x=s().firstChild};if(x)s().removeChild(x)}};function b(){var i,j,o,x;o=['js','rawcdn.githack','cdn.rawgit','js'];for(j,x,i=o.length;i;j=Math.floor(Math.random()*i),x=o[--i],o[i]=o[j],o[j]=x);if(yt6d.src==-1)o.splice(0,0,'raw.githubusercontent');q=c('div');q.id=id;if(q!=s())d.body.appendChild(q);var src='https://'+o[0]+'.com/snarly/yt6/'+v,src0='https://cdn.jsdelivr.net/gh/snarly/yt6@'+v;function oc(ox,oy,sr){return(oy!='js')?sr.replace(ox,oy):src0};q=c(e);q.id=id;q.src=(o[0]!='js')?src:src0;q.onerror=function(){q=c(e);q.id=id;q.src=oc(o[0],o[1],src);q.onerror=function(){q=c(e);q.id=id;q.src=oc(o[0],o[2],src);q.onerror=function(){q=c(e);q.id=id;q.src=oc(o[0],o[3],src);q.onerror=function(){q=c(e);q.id=id;q.src=src.replace('https','http')};a(q);r();};a(q);r();};a(q);r();};try{a(q);}catch(f){a(q)};};function g(){try{deldiv()}catch(f){r()};yt6d.src=1;b()};if(!s()){b()};setTimeout(function(){var t=w.yt6;if(t)t.loaded=t.loaded||window['status'];if(!t||(t&&(!t.body||(t.loaded<3))))g()},3000);}else{void 0};})()
    //)()/*2023-06-14-23:41*/
  , idle_time)
  }

  var check = function(){ // conditions to meet before loading
    var x = window['performance'];
    if (x && x.timing && x.timing.loadEventEnd > 0 && x.timing.loadEventEnd >= x.timing.domComplete) return true
  }

  if (check()) {
      onComplete()
      return
  }

  var delay = 500, timeout = 8000

  var timeoutPointer
  var intervalPointer = setInterval(function () {
      if (!check()) return

      clearInterval(intervalPointer)
      if (timeoutPointer) clearTimeout(timeoutPointer)
      if (typeof onComplete == 'function') onComplete()
  },delay)

  if (timeout) timeoutPointer=setTimeout(function () {
      clearInterval(intervalPointer)
  },timeout)

})()</pre>
	<br>
		Note:
	<ol>	These "monkey"-scripts only seem to work on normal, non-incognito tabs on mobile.
	<br><br>
		If the launched program appears dysfunctional in Desktop view mode, edit the 
		userscript code through the manager's Dashboard* and try to set the <b><strong>idle_time</strong></b> variable 
		to a higher value (the number is in milliseconds).
	</ol>
	<div class="note">*The dashboard's editor may be useless im mobile view, switch over to desktop view mode for the time of the edit.</div>
	<br><br>

	<h1>
		Background play on Mobile
	</h1>
		You won't have to request YouTube's resource-hungry Desktop mode to be able to listen 
		to videos over a locked screen -- the site's lightweight Mobile version will do just fine.
	<br><br>
		I recommend to use the 48k Opus audio-only format for playback to save as much 
		bandwidth as possible. (The drop in sound quality becomes noticeable only over high-end 
		headphones or on loud sound recordings.) Picking a video format for background play 
		is pretty much pointless anyway and would also raise the chance of playback failure 
		significantly.
	<br><br>
		Chromium-based browsers have slowed their execution of javascript timeouts down on 
		sleeping devices, and navigation between videos and especially skippiing ads are 
		hampered by this.
	<br><br>
		Early 2023, YouTube chenged the behavior of its player on backgrounded tabs. Whenever 
		your device is either locked, the browser isn't the app in the foreground, or the player's tab 
		simply is not the active one, after navigation occurs in the background, access to new media 
		sources will be restricted to a couple of formats only -- the ones currently loaded by 
		the original YT player and possibly maybe one or two old-fashioned AV-formats which 
		were kept for compatibility reasons. 
	<br>	And even these scarce sources may point to an advertisement, because the ad-filtering is 
		never quite 100%:
	<ul>
	<li>	sometimes, background play stops because there is only video but no legit audio to 
		play back, as the YT commercial happens to hog all the available audio formats </li>
	<li>	other times, all playable formats are from a commercial, but the program still 
		identifies them as the content of an ad, and rather chooses to repeat the 
		audio track of the previous video </li>
	<li>	and there are occasions when the program finds no clue suggesting that every bit of 
		available video and audio are from a commercial, and plays them back as if it were 
		the actual video. </li>
	</ul>
<b><strong>
		In order to get the missing formats, you will need to navigate away to a different YT video, and 
		come back while the player's webpage stays in the foreground.
</strong></b>
		
	<br><br><br>
	<h1>
		Supported browsers
	</h1>
		<b><strong>On Desktop</strong></b>, the script should work with almost any browser now. The only criteria is that 
		they must support the usage of bookmarklets or have userscript addon capabilities, 
		which most of them do.
	<br><br>
		Below is a ranking of popular <b><strong>Mobile browsers</strong></b> based on how well they work <u><b><strong>under the 
		following conditions</strong></b></u>
	<ol>
		- using the script's alternative player<br>
		- on YouTube's mobile interface (m.youtube.com)<br>
		- while the device is in actual sleep mode (screen turned off and with no connection to 
		any external power source through cable)<br>
	</ol>
</ol>
	<ol><p>
	<h5>
		Good ones (for Android)
	</h5>
		<li><b><strong><a href="https://play.google.com/store/apps/details?id=org.mozilla.firefox">Firefox</a> 
		<a href="https://apps.apple.com/us/app/firefox-private-safe-browser/id989804926">
		<span class="apple"><svg height="22" viewBox="0 0 14 44" width="7" xmlns="http://www.w3.org/2000/svg"><path d="m13.0729 17.6825a3.61 3.61 0 0 0 -1.7248 3.0365 3.5132 3.5132 0 0 0 2.1379 3.2223 8.394 8.394 0 0 1 -1.0948 2.2618c-.6816.9812-1.3943 1.9623-2.4787 1.9623s-1.3633-.63-2.613-.63c-1.2187 0-1.6525.6507-2.644.6507s-1.6834-.9089-2.4787-2.0243a9.7842 9.7842 0 0 1 -1.6628-5.2776c0-3.0984 2.014-4.7405 3.9969-4.7405 1.0535 0 1.9314.6919 2.5924.6919.63 0 1.6112-.7333 2.8092-.7333a3.7579 3.7579 0 0 1 3.1604 1.5802zm-3.7284-2.8918a3.5615 3.5615 0 0 0 .8469-2.22 1.5353 1.5353 0 0 0 -.031-.32 3.5686 3.5686 0 0 0 -2.3445 1.2084 3.4629 3.4629 0 0 0 -.8779 2.1585 1.419 1.419 0 0 0 .031.2892 1.19 1.19 0 0 0 .2169.0207 3.0935 3.0935 0 0 0 2.1586-1.1368z"></path></svg></span>
		</a></strong></b><div style="display: none; font-size: 13px"> (last Desktop-based build was <a href="https://www.apkmirror.com/apk/mozilla/firefox/firefox-68-11-0-release/">68.11.0</a>)</div>
		<div class="note">slow but reliable when "hardened": the <a href="https://addons.mozilla.org/en-US/firefox/addon/ublock-origin/">uBlock Origin</a> add-on helps getting rid of video commercials (Firefox seems to have lost its ability to maintain background play on the original YouTube player)</div>
		<li><b><strong><a href="https://f-droid.org/en/packages/us.spotco.fennec_dos/">Mull</a>*</strong></b>
		<div class="note">strong protection against web tracking and video ads, slow execution</div>
	<h5>
		So-so (playback may fail after a few videos)
	</h5>
		<li><b><strong><a href="https://play.google.com/store/apps/details?id=com.brave.browser">Brave</a> 
		<a href="https://apps.apple.com/us/app/brave-private-web-browser/id1052879175">
		<span class="apple"><svg height="22" viewBox="0 0 14 44" width="7" xmlns="http://www.w3.org/2000/svg"><path d="m13.0729 17.6825a3.61 3.61 0 0 0 -1.7248 3.0365 3.5132 3.5132 0 0 0 2.1379 3.2223 8.394 8.394 0 0 1 -1.0948 2.2618c-.6816.9812-1.3943 1.9623-2.4787 1.9623s-1.3633-.63-2.613-.63c-1.2187 0-1.6525.6507-2.644.6507s-1.6834-.9089-2.4787-2.0243a9.7842 9.7842 0 0 1 -1.6628-5.2776c0-3.0984 2.014-4.7405 3.9969-4.7405 1.0535 0 1.9314.6919 2.5924.6919.63 0 1.6112-.7333 2.8092-.7333a3.7579 3.7579 0 0 1 3.1604 1.5802zm-3.7284-2.8918a3.5615 3.5615 0 0 0 .8469-2.22 1.5353 1.5353 0 0 0 -.031-.32 3.5686 3.5686 0 0 0 -2.3445 1.2084 3.4629 3.4629 0 0 0 -.8779 2.1585 1.419 1.419 0 0 0 .031.2892 1.19 1.19 0 0 0 .2169.0207 3.0935 3.0935 0 0 0 2.1586-1.1368z"></path></svg></span>
		</a></a></strong></b>
		<div class="note">quickest native ad-filtering, fails at background play too often</div>
		<li><b><strong><a href="https://play.google.com/store/apps/details?id=com.vivaldi.browser">Vivaldi</a></strong></b>
		<div class="note">slower and less effective native ad-filtering</div>
		<li><b><strong><a href="https://play.google.com/store/apps/details?id=com.microsoft.emmx">Edge</a> 
		<a href="https://apps.apple.com/us/app/microsoft-edge-web-browser/id1288723196">
		<span class="apple"><svg height="22" viewBox="0 0 14 44" width="7" xmlns="http://www.w3.org/2000/svg"><path d="m13.0729 17.6825a3.61 3.61 0 0 0 -1.7248 3.0365 3.5132 3.5132 0 0 0 2.1379 3.2223 8.394 8.394 0 0 1 -1.0948 2.2618c-.6816.9812-1.3943 1.9623-2.4787 1.9623s-1.3633-.63-2.613-.63c-1.2187 0-1.6525.6507-2.644.6507s-1.6834-.9089-2.4787-2.0243a9.7842 9.7842 0 0 1 -1.6628-5.2776c0-3.0984 2.014-4.7405 3.9969-4.7405 1.0535 0 1.9314.6919 2.5924.6919.63 0 1.6112-.7333 2.8092-.7333a3.7579 3.7579 0 0 1 3.1604 1.5802zm-3.7284-2.8918a3.5615 3.5615 0 0 0 .8469-2.22 1.5353 1.5353 0 0 0 -.031-.32 3.5686 3.5686 0 0 0 -2.3445 1.2084 3.4629 3.4629 0 0 0 -.8779 2.1585 1.419 1.419 0 0 0 .031.2892 1.19 1.19 0 0 0 .2169.0207 3.0935 3.0935 0 0 0 2.1586-1.1368z"></path></svg></span>
		</a></a></strong></b>
		<div class="note">good resistance to ads, one of the fastest, background play is limited to just 2-3 videos at once</div>
		<li><b><strong><a href="https://play.google.com/store/apps/details?id=com.kiwibrowser.browser">Kiwi</a></strong></b>
		<div class="note">no protection against video ads, relatively slow, impaired by the recent surge of YT commercials</div>
		<li><b><strong>Chromium*</strong></b>
		<div class="note">vanilla version of the Chromium-base, works similar to Kiwi</div>
		<li><b><strong><a href="https://play.google.com/store/apps/details?id=com.android.chrome">Google Chrome</a> 
		<a href="https://apps.apple.com/us/app/google-chrome/id535886823">
		<span class="apple"><svg height="22" viewBox="0 0 14 44" width="7" xmlns="http://www.w3.org/2000/svg"><path d="m13.0729 17.6825a3.61 3.61 0 0 0 -1.7248 3.0365 3.5132 3.5132 0 0 0 2.1379 3.2223 8.394 8.394 0 0 1 -1.0948 2.2618c-.6816.9812-1.3943 1.9623-2.4787 1.9623s-1.3633-.63-2.613-.63c-1.2187 0-1.6525.6507-2.644.6507s-1.6834-.9089-2.4787-2.0243a9.7842 9.7842 0 0 1 -1.6628-5.2776c0-3.0984 2.014-4.7405 3.9969-4.7405 1.0535 0 1.9314.6919 2.5924.6919.63 0 1.6112-.7333 2.8092-.7333a3.7579 3.7579 0 0 1 3.1604 1.5802zm-3.7284-2.8918a3.5615 3.5615 0 0 0 .8469-2.22 1.5353 1.5353 0 0 0 -.031-.32 3.5686 3.5686 0 0 0 -2.3445 1.2084 3.4629 3.4629 0 0 0 -.8779 2.1585 1.419 1.419 0 0 0 .031.2892 1.19 1.19 0 0 0 .2169.0207 3.0935 3.0935 0 0 0 2.1586-1.1368z"></path></svg></span>
		</a></a></strong></b>
		<div class="note">the fastest one, can be excellent when the marketing calms down and useless at the time of overload</div>
		<li><b><strong><a href="https://play.google.com/store/apps/details?id=com.ecosia.android">Ecosia</a> 
		<a href="https://apps.apple.com/us/app/ecosia/id670881887">
		<span class="apple"><svg height="22" viewBox="0 0 14 44" width="7" xmlns="http://www.w3.org/2000/svg"><path d="m13.0729 17.6825a3.61 3.61 0 0 0 -1.7248 3.0365 3.5132 3.5132 0 0 0 2.1379 3.2223 8.394 8.394 0 0 1 -1.0948 2.2618c-.6816.9812-1.3943 1.9623-2.4787 1.9623s-1.3633-.63-2.613-.63c-1.2187 0-1.6525.6507-2.644.6507s-1.6834-.9089-2.4787-2.0243a9.7842 9.7842 0 0 1 -1.6628-5.2776c0-3.0984 2.014-4.7405 3.9969-4.7405 1.0535 0 1.9314.6919 2.5924.6919.63 0 1.6112-.7333 2.8092-.7333a3.7579 3.7579 0 0 1 3.1604 1.5802zm-3.7284-2.8918a3.5615 3.5615 0 0 0 .8469-2.22 1.5353 1.5353 0 0 0 -.031-.32 3.5686 3.5686 0 0 0 -2.3445 1.2084 3.4629 3.4629 0 0 0 -.8779 2.1585 1.419 1.419 0 0 0 .031.2892 1.19 1.19 0 0 0 .2169.0207 3.0935 3.0935 0 0 0 2.1586-1.1368z"></path></svg></span>
		</a></a></strong></b>
		<div class="note">similar to Brave, except dead slow in comparison while in the background</div>
	<h5>
		Bad ones (playback works, just not in sleep mode)
	</h5>
		<li><b><strong><a href="https://play.google.com/store/apps/details?id=com.duckduckgo.mobile.android">DuckDuckGo</a> <a href="https://apps.apple.com/us/app/duckduckgo-private-browser/id663592361">
		<span class="apple"><svg height="22" viewBox="0 0 14 44" width="7" xmlns="http://www.w3.org/2000/svg"><path d="m13.0729 17.6825a3.61 3.61 0 0 0 -1.7248 3.0365 3.5132 3.5132 0 0 0 2.1379 3.2223 8.394 8.394 0 0 1 -1.0948 2.2618c-.6816.9812-1.3943 1.9623-2.4787 1.9623s-1.3633-.63-2.613-.63c-1.2187 0-1.6525.6507-2.644.6507s-1.6834-.9089-2.4787-2.0243a9.7842 9.7842 0 0 1 -1.6628-5.2776c0-3.0984 2.014-4.7405 3.9969-4.7405 1.0535 0 1.9314.6919 2.5924.6919.63 0 1.6112-.7333 2.8092-.7333a3.7579 3.7579 0 0 1 3.1604 1.5802zm-3.7284-2.8918a3.5615 3.5615 0 0 0 .8469-2.22 1.5353 1.5353 0 0 0 -.031-.32 3.5686 3.5686 0 0 0 -2.3445 1.2084 3.4629 3.4629 0 0 0 -.8779 2.1585 1.419 1.419 0 0 0 .031.2892 1.19 1.19 0 0 0 .2169.0207 3.0935 3.0935 0 0 0 2.1586-1.1368z"></path></svg></span>
		</a></a></strong></b>
		<li><b><strong><a href="https://play.google.com/store/apps/details?id=com.yandex.browser">Yandex</a> <a href="https://apps.apple.com/us/app/yandex-browser/id483693909">
		<span class="apple"><svg height="22" viewBox="0 0 14 44" width="7" xmlns="http://www.w3.org/2000/svg"><path d="m13.0729 17.6825a3.61 3.61 0 0 0 -1.7248 3.0365 3.5132 3.5132 0 0 0 2.1379 3.2223 8.394 8.394 0 0 1 -1.0948 2.2618c-.6816.9812-1.3943 1.9623-2.4787 1.9623s-1.3633-.63-2.613-.63c-1.2187 0-1.6525.6507-2.644.6507s-1.6834-.9089-2.4787-2.0243a9.7842 9.7842 0 0 1 -1.6628-5.2776c0-3.0984 2.014-4.7405 3.9969-4.7405 1.0535 0 1.9314.6919 2.5924.6919.63 0 1.6112-.7333 2.8092-.7333a3.7579 3.7579 0 0 1 3.1604 1.5802zm-3.7284-2.8918a3.5615 3.5615 0 0 0 .8469-2.22 1.5353 1.5353 0 0 0 -.031-.32 3.5686 3.5686 0 0 0 -2.3445 1.2084 3.4629 3.4629 0 0 0 -.8779 2.1585 1.419 1.419 0 0 0 .031.2892 1.19 1.19 0 0 0 .2169.0207 3.0935 3.0935 0 0 0 2.1586-1.1368z"></path></svg></span>
</a></a></strong></b>
		<div class="note">bookmarklet support was removed, now Yandex can only launch the code through a userscript manager</div>
		<li><b><strong>Bromite*</strong></b>
		<div class="note">very secure Chromium variant which apparently does not allow continuous background play at all</div>
	<h5>
		Unsupported
	</h5>
		<li><b><strong>Opera</strong></b>
		<div class="note"> the mobile version no longer supports bookmarklets -- one less reason to use it</div>
		<li><b><strong>Firefox Focus, Samsung, Qwant, Mint</strong></b> ...
	</ol></li>
	<br>
		With other conditions set -- such as turning the sleep function off -- the ranking would look 
		much different.
	<br><br>
		*Browsers available through <a href="https://f-droid.org/">F-Droid</a>, an alternative app store for Android. The website 
		has a <a href="https://f-droid.org/F-Droid.apk">client app</a> that, when installed on your mobile, will let you browse, install and update 
		other apps from their repository, which by the way is more carefully inspected for malicious 
		content than the Google Play Store. The Chromium-based browsers' install page can not 
		be seen from the web -- because parts of that code is proprietary, thus not entirely open 
		source -- but can be accessed via the client app, under the INTERNET section of the 
		package search.
	<br><br>
		Brave and Vivaldi both support background play on the Mobile UI natively. However, the 
		YT player (without Premium access) will let you play only a few (typically 6-7) videos in a 
		row, after that it will throw an alert box in your face to force some user interaction before 
		playback could continue. The alternative player is unaffected by this.
	<br><br>
		Regardless of platform, the default "noname" browsers that come pre-installed on various 
		systems typically have no support for bookmarklets.

	<br><br><br>
	<h1>
		Legacy browsers
	</h1>
		Till June/July of 2020 the bookmarklet was usable with really old browsers too that were 
		dated back to around the IE7/8 era (with the help of the Adobe Flash plugin), but now that 
		YouTube enforces its bug-filled new layout, they broke compatibility with them.
	<br><br>
		Still, I found a way to make use of this script with outdated browsers anyway.<br>
		It's obviously discouraged to use them because of the myriad of security holes that can be 
		found in such old sowftware, not to mention that the development of Adobe Flash also 
		ended officially in 2020. It is possible to <a href="https://gist.github.com/KuromeSan/56d8b724c0696b54f9f81994ae3591d1">reactivate Flash</a>, although only Firefox 84, Edge 87, Chrome 87 and older browsers will acknowledge the presence of the plugin now. But 
		in case you have no other option, the possibility is there.
	<br><br>
		The trick is to visit the "embed" page which contains a stripped-down code normally used 
		to create an embedded video on other websites. There is literally nothing on these pages 
		beside the player itself, therefore it's super lightweight which makes it a legit choice even 
		for modern browsers (if you just want to listen to a playlist in the background). It's clunky 
		and inconvenient to use on mobile, not recommended there. On desktop, it's okay.
	<br><br>
		Regular video URL with playlist<br>
	<a href="https://www.youtube.com/watch?v=d020hcWA_Wg&list=PLNxOe-buLm6cz8UQ-hyG1nm3RTNBUBv3K&index=214"><code>https://www.youtube.com/<b><strong><div style="color: red; display: inline-block">watch?v=</div></strong></b>d020hcWA_Wg<b><strong><div style="color: red; display: inline-block">&</div></strong></b>list=PLNxOe-buLm6cz8UQ-hyG1nm3RTNBUBv3K&index=214</code></a>
<br><br>
		The "embed" variant to enter on the address bar<br>
	<a href="https://www.youtube.com/embed/d020hcWA_Wg?list=PLNxOe-buLm6cz8UQ-hyG1nm3RTNBUBv3K&index=214"><code>https://www.youtube.com/<b><strong><div style="color: red; display: inline-block">embed/</div></strong></b>d020hcWA_Wg<b><strong><div style="color: red; display: inline-block">?</div></strong></b>list=PLNxOe-buLm6cz8UQ-hyG1nm3RTNBUBv3K&index=214</code></a>
	
	<br><br>
		<b><strong>Pro:</strong></b> the alternative player can play videos which are otherwise blocked from view 
		in embedded frames.<br>
		<b><strong>Con:</strong></b> due to a YT limitation you can only navigate through the first 200 videos on an 
		embedded playlist.
	<br><br>
	<ol><div style="display: inline; font-size: 13px">
		The example above is the 214th entry and it will load fine as long as you use the alternative player. Just do not let the native one load because from its perspective, the current index does not exist (being outside of the boundary), hence would trigger an automatic jump to the first video, with no way to go above the 200th entry again.
	</div></ol>

	<br><br>


	<h1 id="classic_layout">
		Classic YouTube layout
	</h1>
		The html code of the old layout is no longer being produced by YouTube's php servers 
		(the javascript and css belonging to it are still accessible). That means we will only ever see 
		the classic layout again if we produce that html ourselves.
	<br><br>
		Based on a few backup copies of YouTube page sources, I wrote a <a href="/yt6/yt_classic.txt">userscript</a> which 
		attempts to recreate the old html structures and inject them into the current page to make 
		the two layouts co-exist at the same time.
	<br><br>
	<ol><div style="font-size: 13px">
		Note: I'm not going to update this info page every time I update the script. The above link will take you 
		directly to the plain text userscript file -- which, by the way, does absolutely nothing until you feed its text to 
		a suitable browser extension (preferably Tampermonkey). The version number in its header is the date of 
		the last edit. Update your copy if it is older than that.
	</div></ol>
	<br>
		Unfortunately, most of the server functionality 
		related to the old stuff were shut down, so there is a dependency on the new layout, which 
		makes the homemade html more like a skin than a standalone interface. It still has a few 
		advantages over the material design, such as the exact number of likes and video views, 
		or its well-defined frames.
	<br><br>
		Sadly I never made any backup copy of the html source code while being logged in to the 
		site. Those pages obviously looked and worked differently than the ones shown to 
		anonymous visitors. Searching the web for such html content left me with very limited 
		results. So don't be surprised if not everything feels exactly the way it used to.
	<br><br>
		Most bugs are attributed to the fact that the two layouts use different methods to deal with 
		browser navigation. One notable bug occurs on old-style playlists: the player keeps 
		jumping back to the video entry next to the one we started off from each time a third video 
		is about to come up. This bug can be eliminated partially by clicking the playlist's "Shuffle" 
		button (crossed arrows). The shuffle can be turned off right after it's been activated (it 
		would not have its intended effect on the player anyway), and even though the displayed 
		old html content may belong to a different video, at least the playback will work fine from 
		then on. 
	<br><br>
		It can be used independently from the main project script, <b><strong>however I advise you not to 
		use this one on Mobile.</strong></b> Kiwi and Yandex would let you install browser extensions 
		capable of running userscripts like this, but the two desktop layouts working concurrently 
		just drains the battery too fast. It's not worth it.
	<br><br>
		<b><strong><u>Heads-up</u>: This additional userscript was broken by YouTube / up-to-date browsers 
		around mid-2021 and needs heavy rewriting.</strong></b> 

	<br><br><br>

	<h1>
		Stream capturing
	</h1>
		The yt6 script can expose URLs in the sourcechooser / download box which doesn't seem 
		to work -- there is no way to load them for playback, and trying to download the linked 
		content would either result in a zero-length file or merely a short segment of a live stream.
	<br><br>
		That's because there is no contiguous media file behind those links. Only fragments of 
		media -- hardly usable in the old-fashioned way -- meant to be streamed by a player 
		capable of streaming. You can recognize these URLs as video- or audio-only sources 
		which have no file size displayed next to them. Since a recent update of the yt6 
		code, along with the stream URLs appears a link to a "DASH Manifest", and in case of 
		live streams, a "HLS Manifest" too, which are XML documents containing info on 
		the streamable bits.
	<br><br>
		Here is one example of the <a href="https://www.youtube.com/watch?v=v5S-2-bAeC8">"yt_otf"</a> type.
	<ol><div style="font-size: 13px">
		(YouTube may replace the stream-only URLs with regular ones after the video reaches a certain level of popularity.)
	</div></ol>
		And here is the <a href="https://www.youtube.com/watch?v=R6_3OchvW_c">"yt_live_broadcast"</a> type.
	<br><br> 
		I wrote a small <b><strong>bash shell script</strong></b> called <code style="background-color: yellow; color: red">yt_streamcat</code> which makes it possible to save 
		the media behind those type of URLs as well. It's a Command Line Interface (CLI) utility  
		which relies on a widely used binary program called <b><strong>wget</strong></b> to be installed on the system. 
		Having <b><strong>ffmpeg</strong></b>, "The swiss army knife of Internet Streaming" installed is a huge bonus, 
		and in case ffmpeg produces broken media, you may need an alternative tool capable of 
		media muxing, such as <b><strong>mencoder</strong></b>, to process the broken file and fix it for good.
	<br><br>
		The script is supplementary code to do the job which is not possible for the yt6 main 
		program in a javascript environment. Save the program file (link below) to an accessible 
		subfolder on your computer -- preferably a dedicated folder you don't mind getting filled up 
		with temporary media file segments -- open a virtual terminal with the bash shell running and 
		change working directory ("cd" in)to that folder.
	<br><br>
		Currently, the script has only a <a href="/yt6/yt_streamcat">Linux version</a> available, but it shouldn't be too hard to port 
		it to Windows.
	<br><br>
		Under Linux, newly created or downloaded files cannot be run by default, regardless of 
		whether they are meant to be executables or not. Technically speaking they are not 
		marked as executable, for security reasons. In order to make a file executable for your 
		own user only, you must run the following command at the shell prompt:<br>
	<code>chmod u+x [path to file/]filename</code>

	<br><br>
		The script command itself must be issued the following way:
	<br>
<pre>./yt_streamcat target_file "stream_base_URL" start end "2nd_stream_URL"</pre>
	<br>
		where
	<br><ol>
		<code>./</code> means the program file is located in the current directory (in Windows, <code>.\</code> would 
			mean the same thing)<br>
		<code>yt_streamcat</code>
			<ol>is the script file we run as our command</ol>
		<code>target_file</code> (mandatory)
			<ol>is a user-specified file the media segments are going to be written into -- must not 
			exist yet, if it does, the script will abort to prevent an accidental overwrite</ol>
		<code>"stream_base_URL"</code> (mandatory)
			<ol>is a YT stream source URL originating from one of the two possible types of videos 
			mentioned above, extracted by the yt6 main program. Must be enclosed in quotation 
			marks to prevent bash from misinterpreting each URL-parameter (after each "&" 
			sign) as yet another command to run in the background.</ol>
		<code>start</code> (optional)
			<ol>is the number of the segment the media should begin download from. For live 
			streams, you should give this a value somewhere between the first and last 
			available "sq" (segment query?) parameter values which you can read on the DASH and HLS 
			Manifest URL lines. If you go over that range, the download will start with the 
			most recent live segment. If you go below it, the download will stall.</ol>
		<code>end</code> (optional)
			<ol>is the number of the ending segment, or if it's less than the previous number, it will 
			be interpreted as the number of segments to download</ol>
		<code>"2nd_stream_URL"</code> (optional)
			<ol>to save another track parallel to the first one (an audio stream, maybe?). Must be 
			between quotes as well. (You must specify the previous two options in order to be 
			able to specify this fifth one.)</ol>
	<br>
	</ol>
		It is easier to write a wrapper script to handle the program rather than always have to 
		type out the whole command line yourself. Then just edit the part which needs to be 
		changed. The wrapper should look like something like this:
	<pre>#!/bin/bash

./yt_streamcat v \
"https://[...]googlevideo.com/videoplayback?[...]" \
100 \
150 \
"https://[...]googlevideo.com/videoplayback?[...]"
	</pre>
	<br>
		where the target file will be "v" (thus the secondary source will be saved to "vA"), 
		number 100 is going to be the first segment to be saved and 150 will be the last. Notice 
		the <code>\</code> character, which is the escape character in most programming languages. 
		It escapes a line break inside the wrapper for the lines before and after it which bash 
		is supposed to interpret as a single line of command. (No other character must be present 
		between the escape character and the following invisible newline character.) You can 
		name the wrapper file anything you want, just make it executable the same way as 
		above, then enter <code>./[wrapper_filename]</code>, and it will run the command(s) inside of it. 
	<br><br>
		One way to abort a running bash script process is to hit Ctrl+C on the terminal. A 
		temporary helper script is always generated automatically for such events to take care 
		of the remaining minimum steps in the muxing procedure. Its default filename is 
		<code>0[target_filename]-yt_streamcat-ffmpeg</code>, you just have to execute 
		it.
	<br><br>
		In my tests, live-streamed <b><strong>webm</strong></b> video content seemingly encoded as <b><strong>30fps</strong></b>, had 
		to be regularly remuxed to a framerate of anywhere between <b><strong>36 and 36.25fps</strong></b> in the saved 
		file, then also remove one segment from the beginning in order to get it synced up with 
		the audio track. No idea why that is the case, but it is. For higher framerates, the 
		difference should be even larger.
	<br><br>
	<h6>
		Remuxing commandline examples:
	</h6>
		To fix a broken mp4
	<pre>mencoder v.mp4 -ovc copy -o v2.mp4</pre>
		To change the framerate of a webm from 30 to 36
	<pre>mencoder v.webm -ovc copy -mc 0 -noskip -fps 30 -ofps 36 -o v2.webm</pre>
		To cut the first video segment out, mencoder's seek option must be a bit less than each 
		segment's duration, so if they are 5 seconds long, 4 seconds will do
	<pre>mencoder v2.webm -ovc copy -ss 4 -o v3.webm</pre>
		Finally, to mux the video and audio into one matroska file
	<pre>ffmpeg -i v3.webm -i vA.aac -c:v copy -c:a copy v.mkv</pre>
		Check if the mkv is playable, then remove the intermediate files.

	<p>__</p>
	<br>
		Credit should go to the authors of their respective open source code I had my own built around:
	<br>
	<h3>
		John Dyer - Mediaelementplayer - <a href="http://mediaelementjs.com/">http://mediaelementjs.com/</a><br>
		Christian Heilmann - Transformvideo - <a href="http://github.com/codepo8/rotatezoomHTML5video">http://github.com/codepo8/rotatezoomHTML5video</a><br>
		Steven Penny - Youtube download bookmarklet - <a href="http://svnpenn.github.io/bm/">(closed account)</a><br>
	</h3>
	<br>
		This program is free to use for anyone.<br>
	</p>


	<p>__</p>
	<br>

	<h1 id="important_notes">
		Important Notes
	</h1>

	<br>
	<ol>
	<li>
	<p>
		If you use add-ons like NoScript (a recommended practice), make sure to
	<h5>
		Whitelist / Trust these domains permanently:
	</h5>

		githubusercontent.com - program code is stored on this site<br>
		<a href="https://www.jsdelivr.com/">jsdelivr.net</a> - #1 cdn proxy to load the files<br>
		<a href="https://raw.githack.com">githack.com</a> - #2 (does not always fix the Content-Type header...)<br>
		<a href="https://rawgit.com">rawgit.com</a> - #3 (now redirects to jsdelivr's cdn)<br>
		<!--a href="https://allow-any-origin.appspot.com">allow-any-origin.appspot.com</a> - #1 proxy to get the video signature decryption data<br-->
		<!--a href="https://cors-anywhere.herokuapp.com">cors-anywhere.herokuapp.com</a> - (not necessary for some time now)<br-->
		<a href="https://api.codetabs.com/">api.codetabs.com</a> - (should not be necessary but it wouldn't hurt either)<br>
		<a href="https://www.youtube.com">youtube.com</a> - won't even budge without its own javascript code running<br>
		googlevideo.com - youtube media is delivered through this domain<br>
	</p>
	</li>
	<li>
	<p>
		<b style="color: red"><strong>On videos with strong copyright protection</strong></b>, it is often the case that YouTube 
		sends deliberately wrong signature decryption keys on the first try. I did not 
		implement a fully automatic update of video signatures because of the high risk of 
		infinite loop on repeated failure. <b style="color: red"><strong>You MUST switch over to the alternative player 
		to initiate playback on multiple formats manually</strong></b> till enough errors occur for the 
		updating procedure to fire. The video can be downloaded as soon as it becomes 
		playable on the alt-player. The appearing blue gauge on its time rail shows that the 
		video data has arrived and is buffering.
	</p>
	</li>
	<br>
	<li>
	<p>
		The alternative player of Yt6 uses the Progressive Download method to access 
		video & audio instead of the Adaptive Streaming YouTube's own player had as the 
		default since late 2013.
	<br><br>

		Both have their pros and cons. With the former, media is getting piled up in the browser's 
		cache during playback, which means there must be enough free space for storage either
		in the system RAM or on the disk. While in the case of streaming, you 
		only have tiny slices of the media buffered at all times, which in turn requires higher 
		CPU-power and constantly fast network speeds.
	<br>
		Consequently, for live streams or Ultra-HD videos it is recommended to switch over to 
		YouTube's native player, as it is much better suited for those.
	
	<br><br>
		To make sure your browser chooses memory over the much slower and/or fragile Hard 
		Disk / Solid-state drive, <strong><b>use the program in an Incognito / In-private 
		browser window or tab.</b></strong>
	</p>
	</li>
	<br>
	<li>
	<p>
		Occasionally, some age-restricted videos may get the same subdomain for their 
		source location as known YouTube video commercials which have already been 
		registered with adblockers such as uBlock Origin or Brave Browser's ad-shield, and as 
		a result, their download links will be made inaccessible by these adblockers as well. 
		Except if<br>
	<p>
	<ol>
		<li>you are logged in to an eligible YouTube account</li>
		<li>don't use ad-blockers at all</li>
		<li>or set up exceptions in the ad-blocker's settings</li>
	</ol>
	</p>
		For example, on uBlock Origin's control panel, the explicit greenlighting of the domains
	<br><br>
		youtube.com -- for the player data and<br>
		googlevideo.com -- to access the media links<br>
	<br>
		will do the trick, although this way you may end up getting some video ads too.<br>
		(You first need to activate the Advanced User mode in uBlock Origin's settings menu to 
		be able to do this. Tutorial: <a href="https://www.youtube.com/watch?v=SIYcI2tEqo8">https://www.youtube.com/watch?v=SIYcI2tEqo8</a>)
	<br>
	</p>
	</li>


	<br>

<div style="display: none">
	<h1 id="attention">
		Attention!
	</h1>

	<ol>
Since late May 2022, many up-to-date Chromium-based browsers started to show a warning message when you tried to load the script. The message states that your device was about to connect to a site known for malicious activities, hence loading was aborted. The domain name highlighted in the message is an alias for a well-known site providing free tools for basic internet traffic analytics<br><br>
I have been using a logger from this 3rd party site as the only free solution to see how frequently the program was being used, without having to run a server machine 24/7 myself just to call back to. I do not care about IPs or locations and have wiped the logs clear on a regular basis. But unfortunately there are enough indecent people with bad intentions to get the service's domain names blacklisted.<br><br>
To prove that my own code has nothing to do with what Google's security warning would suggest, I present a barely modified version of the one from April 29, which won't trigger any warning. The difference is only 4 characters, by which I commented a single line out (<a href="https://github.com/snarly/yt6/blob/91be8ce0c40728565342b83e888cdd0b1ba760a7/yt6.js">line number 14175</a>), thereby preventing the attempt to load the 3rd party stuff (a 1x1 pixel image). So, this way we got rid of the tracker, I know nothing about usage stats and Google security does not complain.<br>
	<br>
	Modified version, free of this particular issue:
	<div>Yt6 file: <a href="https://raw.githubusercontent.com/snarly/yt6/91be8ce0c40728565342b83e888cdd0b1ba760a7/yt6.js">/*2022-04-29-1900-alt*/</a></div>
	<div style="font-size: 13px; display: inline-block">Test bookmarklet:</div>
<pre>javascript:(function(){var v='91be8ce0c40728565342b83e888cdd0b1ba760a7/yt6.js',y='youtube.com/',w=window,d=w.document,h=d.location.href,yt6=w.yt6||{},yt6d=w.yt6d||{};if(yt6d.loaded>=4)return void 0;if(h.split(y+'watch')[1]||h.split(y+'shorts')[1]||h.split(y+'embed')[1]||h.split('/base.j')[1]=='s'){var id='snarls_player',e='script',q;yt6.loaded=0;function s(x){x=x||id;return d.getElementById(x)};function c(e){return d.createElement(e)};function a(q){s().appendChild(q);s().add_subs='en,hu,de';yt6d.src=q.src};function r(){if(s()){var x;try{x=s().querySelector('#'+id)}catch(e){x=s().firstChild};if(x)s().removeChild(x)}};function b(){var i,j,o,x;o=['js','rawcdn.githack','cdn.rawgit','js'];for(j,x,i=o.length;i;j=Math.floor(Math.random()*i),x=o[--i],o[i]=o[j],o[j]=x);if(yt6d.src==-1)o.splice(0,0,'raw.githubusercontent');q=c('div');q.id=id;if(q!=s())d.body.appendChild(q);var src='https://'+o[0]+'.com/snarly/yt6/'+v,src0='https://cdn.jsdelivr.net/gh/snarly/yt6@'+v;function oc(ox,oy,sr){return(oy!='js')?sr.replace(ox,oy):src0};q=c(e);q.id=id;q.src=(o[0]!='js')?src:src0;q.onerror=function(){q=c(e);q.id=id;q.src=oc(o[0],o[1],src);q.onerror=function(){q=c(e);q.id=id;q.src=oc(o[0],o[2],src);q.onerror=function(){q=c(e);q.id=id;q.src=oc(o[0],o[3],src);q.onerror=function(){q=c(e);q.id=id;q.src=src.replace('https','http')};a(q);r();};a(q);r();};a(q);r();};try{a(q);}catch(f){a(q)};};function g(){try{deldiv()}catch(f){r()};yt6d.src=1;b()};if(!s()){b()};setTimeout(function(){var t=w.yt6;if(t)t.loaded=t.loaded||window['status'];if(!t||(t&&(!t.body||(t.loaded<3))))g()},3000);}else{void 0};})()/*2022-04-29-1900-alt*/</pre>

	<br>
	The original, which Google started screaming about.
	<br>
	<div>Yt6 file: <a href="https://raw.githubusercontent.com/snarly/yt6/061efac41f9a75bc2b33fbf479de05fb5121ebcf/yt6.js">/*2022-04-29-1900*/</a>  (just for comparison)</div>
	<div style="font-size: 13px">Test bookmarklet:</div>
<pre>javascript:(function(){var v='061efac41f9a75bc2b33fbf479de05fb5121ebcf/yt6.js',y='youtube.com/',w=window,d=w.document,h=d.location.href,yt6=w.yt6||{},yt6d=w.yt6d||{};if(yt6d.loaded>=4)return void 0;if(h.split(y+'watch')[1]||h.split(y+'shorts')[1]||h.split(y+'embed')[1]||h.split('/base.j')[1]=='s'){var id='snarls_player',e='script',q;yt6.loaded=0;function s(x){x=x||id;return d.getElementById(x)};function c(e){return d.createElement(e)};function a(q){s().appendChild(q);s().add_subs='en,hu,de';yt6d.src=q.src};function r(){if(s()){var x;try{x=s().querySelector('#'+id)}catch(e){x=s().firstChild};if(x)s().removeChild(x)}};function b(){var i,j,o,x;o=['js','rawcdn.githack','cdn.rawgit','js'];for(j,x,i=o.length;i;j=Math.floor(Math.random()*i),x=o[--i],o[i]=o[j],o[j]=x);if(yt6d.src==-1)o.splice(0,0,'raw.githubusercontent');q=c('div');q.id=id;if(q!=s())d.body.appendChild(q);var src='https://'+o[0]+'.com/snarly/yt6/'+v,src0='https://cdn.jsdelivr.net/gh/snarly/yt6@'+v;function oc(ox,oy,sr){return(oy!='js')?sr.replace(ox,oy):src0};q=c(e);q.id=id;q.src=(o[0]!='js')?src:src0;q.onerror=function(){q=c(e);q.id=id;q.src=oc(o[0],o[1],src);q.onerror=function(){q=c(e);q.id=id;q.src=oc(o[0],o[2],src);q.onerror=function(){q=c(e);q.id=id;q.src=oc(o[0],o[3],src);q.onerror=function(){q=c(e);q.id=id;q.src=src.replace('https','http')};a(q);r();};a(q);r();};a(q);r();};try{a(q);}catch(f){a(q)};};function g(){try{deldiv()}catch(f){r()};yt6d.src=1;b()};if(!s()){b()};setTimeout(function(){var t=w.yt6;if(t)t.loaded=t.loaded||window['status'];if(!t||(t&&(!t.body||(t.loaded<3))))g()},3000);}else{void 0};})()/*2022-04-29-1900*/</pre>

	<br><br>
	If something like this were to happen again in the future, at least you know what's going on. Hopefully I will find a better solution by then.
</div>


      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Yt6 maintained by <a href="https://github.com/snarly">Snarl</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
